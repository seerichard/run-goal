(this["webpackJsonprun-goal"]=this["webpackJsonprun-goal"]||[]).push([[0],{26:function(e,t,n){"use strict";n.r(t);var r=n(12),c=n(1),o=n(0),a=n.n(o),i=n(13),s=n.n(i),l=n(4),d=n(17),u=function(e){var t=e.clientId,n=e.clientSecret,r=e.code;return"https://www.strava.com/oauth/token?client_id=".concat(t,"&client_secret=").concat(n,"&code=").concat(r,"&grant_type=authorization_code")},p=function(e){var t=e.clientId,n=e.clientSecret,r=e.refreshToken;return"https://www.strava.com/oauth/token?client_id=".concat(t,"&client_secret=").concat(n,"&refresh_token=").concat(r,"&grant_type=refresh_token")},m=function(e){var t=e.accessToken,n=Date.now()/1e3;return"https://www.strava.com/api/v3/athlete/activities?access_token=".concat(t,"&before=").concat(n,"&after=").concat(1609459200,"&per_page=200")};function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var g=o.createElement("path",{fill:"current",stroke:"current",d:"M534.166,180.916c-2.326-11.044-23.832-26.157-34.876-30.804c0,0-2.905-7.556-9.882-10.461 c-6.977-2.905-15.696-31.387-15.112,3.488c0,0-19.181-9.881-28.482-9.881c0,0-7.557,13.37,0,27.899c0,0-13.37,5.814-34.293,15.691 c-20.926,9.882-66.843,8.14-113.342-10.461c-46.5-18.601-97.651-19.764-127.292,5.814c0,0-41.849,9.882-52.894,23.252 c-11.044,13.37-73.819,30.225-99.393-16.275c-25.574-46.5-20.343,18.017-10.461,32.55c9.882,14.533,44.174,79.05,134.848,18.601 c0,0,6.394,38.364,36.039,49.988c29.646,11.624,29.646,48.825,27.32,56.961s2.905,40.686,0,49.988 c-2.905,9.299,19.18,25.573,24.411,55.219c0,0-0.579,15.691,13.37,0c0,0,2.905,6.394,11.624,2.325c0,0,13.37,6.394,15.692-5.813 c2.325-12.207,2.325-16.275-10.461-24.994s-43.595-47.662-19.764-68.589c23.832-20.927,28.483-26.157,28.483-53.477 c0,0,44.174,9.882,51.731,28.482c0,0-3.489,31.388-5.23,36.618c-1.742,5.23-41.85,7.556-52.894,35.455c0,0,0.58,6.977,5.814,6.394 c0,0,2.326,11.044,8.136,6.977c5.81-4.067,24.994-18.601,44.758-18.018c19.764,0.58,17.438-16.274,20.927-22.089 c3.488-5.813,9.298-22.668,9.298-24.994c0,0,15.691,17.438,14.533,26.736c-1.163,9.298-6.977,8.14-13.37,9.298 c-6.394,1.159-20.927,12.787-18.601,18.018c0,0-12.787,15.112-4.651,15.112s30.804-6.977,38.943-14.532 c8.136-7.557,26.736-7.557,25.573-24.411c-1.162-16.854-3.488-36.039-3.488-36.039s65.68-30.804,87.186-61.028 s29.646-38.364,50.567-33.129c20.923,5.234,24.411-1.742,24.411-1.742s26.156-15.112,21.506-27.32 C574.855,211.72,536.491,191.957,534.166,180.916z"});function w(e,t){var n=e.title,r=e.titleId,c=h(e,["title","titleId"]);return o.createElement("svg",f({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 575.401 575.402",style:{enableBackground:"new 0 0 100% 100%"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},c),n?o.createElement("title",{id:r},n):null,g)}var b=o.forwardRef(w),x=(n.p,{mobile:"(max-width: ".concat(767,"px)"),tablet:"(min-width: ".concat(768,"px)"),desktop:"(min-width: ".concat(1024,"px)"),cinema:"(min-width: ".concat(1440,"px)")}),v="#060A0F",j="#C9D1D9",y="#FFFFFF",S="cid",O="cs",I="at",k="rt",_=l.b.div.withConfig({displayName:"Form__Wrapper",componentId:"sc-1d1wlh-0"})(["display:flex;flex-direction:column;align-items:center;"]),F=Object(l.b)(b).withConfig({displayName:"Form__Doggy",componentId:"sc-1d1wlh-1"})(["fill:",";stroke:",";width:200px;margin-top:40px;@media ","{width:12.5vw;margin-top:2.5vw;}"],y,j,x.cinema),C=l.b.h1.withConfig({displayName:"Form__Title",componentId:"sc-1d1wlh-2"})(["color:",";font-size:40px;margin:0;margin-top:-30px;text-align:center;@media ","{font-size:2.5vw;margin-top:-1.875vw;}"],y,x.cinema),P=l.b.form.withConfig({displayName:"Form__FormWrapper",componentId:"sc-1d1wlh-3"})(["display:flex;flex-direction:column;width:calc(100% - 60px);box-sizing:border-box;margin-top:40px;@media ","{width:400px;}@media ","{width:25vw;margin-top:2.5vw;}"],x.tablet,x.cinema),z=l.b.input.withConfig({displayName:"Form__Input",componentId:"sc-1d1wlh-4"})(["padding:0;margin:0;border:"," 1px solid;border-radius:2px;background-color:",";color:",";color:",";height:40px;margin-bottom:15px;padding-left:20px;font-size:16px;font-family:inherit;&:focus{outline:none;border:"," 1px solid;}&::-webkit-outer-spin-button,&::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}&[type='number']{-moz-appearance:textfield;}@media ","{border:"," 0.0625vw solid;border-radius:0.125vw;height:2.5vw;margin-bottom:0.9375vw;padding-left:1.25vw;font-size:1vw;&:focus{border:"," 0.0625vw solid;}}"],j,"#0D1117",j,y,y,x.cinema,j,y),T=l.b.button.withConfig({displayName:"Form__SubmitButton",componentId:"sc-1d1wlh-5"})(["cursor:pointer;padding:0;margin:0;height:40px;border:none;border-radius:2px;background-color:",";color:",";font-size:16px;font-weight:bold;font-family:inherit;@media ","{height:2.5vw;border-radius:0.125vw;font-size:1vw;}"],y,v,x.cinema),D=function(){var e=Object(d.a)(),t=e.register,n=e.errors,r=e.handleSubmit;return Object(c.jsxs)(_,{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(F,{}),Object(c.jsx)(C,{children:"Run Goal"})]}),Object(c.jsxs)(P,{onSubmit:r((function(e){var t=e.clientId,n=e.clientSecret;localStorage.setItem(S,t),localStorage.setItem(O,n);var r=window.location.href;window.location.href=function(e){var t=e.clientId,n=e.redirectUrl;return"https://www.strava.com/oauth/authorize?client_id=".concat(t,"&redirect_uri=").concat(n,"&response_type=code&scope=activity:read_all")}({clientId:t,redirectUrl:r})})),children:[Object(c.jsx)(z,{name:"clientId",type:"number",inputMode:"numeric",placeholder:"Client Id",ref:t({required:!0})}),n.clientId&&"Please enter a Client Id",Object(c.jsx)(z,{name:"clientSecret",type:"password",placeholder:"Client Secret",ref:t({required:!0})}),n.clientSecret&&"Please enter a Client Secret",Object(c.jsx)(T,{type:"submit",children:"Submit"})]})]})},N=n(2),E=n.n(N),B=n(3),R=function(){var e=Object(B.a)(E.a.mark((function e(t){var n,r,c,o,a,i,s,l,d,p;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem(S),r=localStorage.getItem(O),e.next=4,fetch(u({clientId:n,clientSecret:r,code:t}),{method:"POST"});case 4:return c=e.sent,e.next=7,c.json();case 7:o=e.sent,a=o.access_token,i=o.refresh_token,s=o.athlete,l=s.firstname,d=s.lastname,localStorage.setItem(I,a),localStorage.setItem(k,i),localStorage.setItem("fn",l),localStorage.setItem("ln",d),p=window.location.href,window.location.href=p.split("?")[0];case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(B.a)(E.a.mark((function e(){var t,n,r,c,o,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem(S),n=localStorage.getItem(O),r=localStorage.getItem(k),e.next=5,fetch(p({clientId:t,clientSecret:n,refreshToken:r}),{method:"POST"});case 5:return c=e.sent,e.next=8,c.json();case 8:o=e.sent,a=o.access_token,localStorage.setItem(I,a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(B.a)(E.a.mark((function e(){var t,n,r,c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem(I),n="Run",e.next=4,fetch(m({accessToken:t}));case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,o=c.filter((function(e){return e.type===n})),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var t=e.code;return Object(o.useEffect)((function(){R(t).catch((function(e){return console.log("Something happened fetching the token :(",e)}))}),[]),Object(c.jsx)("div",{children:"Token Fetcher Component"})},q=n(5),J=function(){var e=Object(o.useState)([]),t=Object(q.a)(e,2),n=t[0],r=t[1];Object(o.useEffect)((function(){M().catch((function(e){return console.log("Something happened refreshing the token :(",e)})),U().then((function(e){return r(e)})).catch((function(e){return console.log("Something happened getting activities :(",e)}))}),[]),console.log("runData:",n);var a=n.reduce((function(e,t){return e+t.distance}),0)/10,i=Math.round(a+100*Number.EPSILON)/100;return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{children:["Total Distance Run This Year: ",i,"km"]})})},W=function(){var e=new URLSearchParams(window.location.search).get("code");return localStorage.getItem(k)?Object(c.jsx)(J,{}):e?Object(c.jsx)(L,{code:e}):Object(c.jsx)(D,{})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))};function G(){var e=Object(r.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap');\n\n  body {\n    margin: 0;\n    font-family: 'Poppins', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background-color: ",";\n  }\n"]);return G=function(){return e},e}var H=Object(l.a)(G(),v);s.a.render(Object(c.jsxs)(a.a.StrictMode,{children:[Object(c.jsx)(H,{}),Object(c.jsx)(W,{})]}),document.getElementById("root")),A()}},[[26,1,2]]]);
//# sourceMappingURL=main.67bb1007.chunk.js.map